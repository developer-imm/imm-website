<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Traction — An ADHD‑friendly Todo App</title>
  <meta name="description" content="Traction is an ADHD‑friendly todo app with smart recurrence, sticky reminders, and a calm UI for iPhone, iPad, and Mac." />
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
</head>
<body class="traction bg-[var(--bg)] text-[var(--text)]">
  <header class="sticky top-0 z-50 backdrop-blur border-b border-white/10 bg-[var(--bg)]/60">
    <div class="max-w-6xl mx-auto px-4 sm:px-6 py-4">
      <div class="relative flex items-center justify-between gap-4">
        <a href="/" class="flex items-center gap-3">
          <img src="/img/logo.png" alt="Interactive MM logo" class="h-10 w-auto drop-shadow-[0_3px_12px_rgba(0,0,0,0.25)]"/>
          <span class="text-lg font-semibold tracking-tight">Interactive MM</span>
        </a>
        <nav id="primary-navigation" class="mobile-menu hidden absolute right-4 top-full mt-3 flex-col gap-3 w-max max-w-[calc(100vw-2rem)] rounded-2xl border border-white/10 bg-[var(--bg)]/95 p-4 text-sm text-[var(--muted)] shadow-lg sm:static sm:flex sm:flex-row sm:items-center sm:gap-6 sm:w-auto sm:rounded-none sm:border-0 sm:bg-transparent sm:p-0 sm:shadow-none">
          <a class="hover:text-white" href="/">Home</a>
          <a class="hover:text-white" href="/traction.html">Traction</a>
        </nav>
        <button type="button" class="sm:hidden inline-flex items-center justify-center rounded-full border border-white/20 p-2 text-white transition hover:border-white/40" aria-controls="primary-navigation" aria-expanded="false" data-menu-toggle>
          <span class="sr-only">Toggle navigation</span>
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5">
            <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16" />
          </svg>
        </button>
      </div>
    </div>
  </header>

  <main>
    <section class="relative overflow-hidden grid-fade">
      <div class="max-w-6xl mx-auto px-4 sm:px-6 py-20 md:py-28 grid md:grid-cols-2 gap-10 items-center">
        <div>
          <h1 class="text-4xl md:text-5xl font-extrabold">Traction</h1>
          <p class="mt-4 text-[var(--muted)]">An ADHD‑friendly todo app that keeps focus, not friction. Smart recurrence without clutter, sticky reminders that gently persist, and an interface designed for calm momentum.</p>
          <ul class="mt-6 grid gap-3 text-[var(--muted)]">
            <li class="glass rounded-xl p-4"><span class="font-semibold text-white">Ultra‑fast capture</span> — jot tasks instantly from anywhere in the app.</li>
            <li class="glass rounded-xl p-4"><span class="font-semibold text-white">Smart recurrence</span> — rule‑based scheduling with projections (no endless duplicates).</li>
            <li class="glass rounded-xl p-4"><span class="font-semibold text-white">Sticky reminders</span> — gentle nudges at intervals you choose.</li>
            <li class="glass rounded-xl p-4"><span class="font-semibold text-white">ADHD‑friendly UI</span> — big tap targets, minimal choices, soothing motion.</li>
            <li class="glass rounded-xl p-4"><span class="font-semibold text-white">Apple platforms</span> — iPhone, iPad, Mac; offline‑first with iCloud sync.</li>
          </ul>
        </div>
        <div class="glass rounded-3xl overflow-hidden flex items-center justify-center p-6 bg-white/5">
          <img src="/img/traction-logo.png" alt="Traction app logo" class="w-56 h-56 object-contain" />
        </div>
      </div>
    </section>

    <section class="max-w-6xl mx-auto px-4 sm:px-6 mt-16">
      <div class="glass rounded-2xl p-6">
        <h2 class="text-2xl font-bold">Status</h2>
        <p class="mt-2 text-[var(--muted)]">Currently in development. TestFlight planned; subscribe for updates soon.</p>
      </div>
    </section>
  </main>

  <footer class="border-t border-white/10 mt-16">
    <div class="max-w-6xl mx-auto px-4 sm:px-6 py-10 text-sm text-[var(--muted)]">
      <p>© <span id="year"></span> Interactive MM</p>
    </div>
  </footer>

  <script>
    const yearEl = document.getElementById('year');
    if (yearEl) {
      yearEl.textContent = new Date().getFullYear();
    }

    const menuToggle = document.querySelector('[data-menu-toggle]');
    const navId = menuToggle ? menuToggle.getAttribute('aria-controls') : null;
    const nav = navId ? document.getElementById(navId) : null;

    if (menuToggle && nav) {
      let pendingCloseHandler = null;

      const clearPendingCloseHandler = () => {
        if (pendingCloseHandler) {
          nav.removeEventListener('transitionend', pendingCloseHandler);
          pendingCloseHandler = null;
        }
      };

      const finishClose = () => {
        if (window.innerWidth < 640) {
          nav.classList.add('hidden');
          nav.classList.remove('flex');
        }
      };

      const openMenu = () => {
        clearPendingCloseHandler();
        nav.classList.remove('hidden');
        nav.classList.add('flex');
        menuToggle.setAttribute('aria-expanded', 'true');

        if (!nav.classList.contains('mobile-menu--open')) {
          requestAnimationFrame(() => {
            nav.classList.add('mobile-menu--open');
          });
        }
      };

      const closeMenu = ({ immediate = false } = {}) => {
        clearPendingCloseHandler();
        menuToggle.setAttribute('aria-expanded', 'false');

        if (immediate) {
          nav.classList.remove('mobile-menu--open');
          finishClose();
          return;
        }

        if (!nav.classList.contains('mobile-menu--open')) {
          finishClose();
          return;
        }

        nav.classList.remove('mobile-menu--open');

        pendingCloseHandler = (event) => {
          if (event.target !== nav) {
            return;
          }
          finishClose();
          clearPendingCloseHandler();
        };

        nav.addEventListener('transitionend', pendingCloseHandler);
      };

      menuToggle.addEventListener('click', () => {
        const expanded = menuToggle.getAttribute('aria-expanded') === 'true';
        if (expanded) {
          closeMenu();
        } else {
          openMenu();
        }
      });

      nav.addEventListener('click', (event) => {
        if (event.target.closest('a') && window.innerWidth < 640) {
          closeMenu();
        }
      });

      window.addEventListener('keydown', (event) => {
        if (event.key === 'Escape' && menuToggle.getAttribute('aria-expanded') === 'true') {
          closeMenu();
          menuToggle.focus();
        }
      });

      window.addEventListener('resize', () => {
        if (window.innerWidth >= 640) {
          clearPendingCloseHandler();
          nav.classList.remove('hidden');
          nav.classList.remove('flex');
          nav.classList.remove('mobile-menu--open');
          menuToggle.setAttribute('aria-expanded', 'false');
          return;
        }

        if (menuToggle.getAttribute('aria-expanded') === 'true') {
          openMenu();
        } else {
          closeMenu({ immediate: true });
        }
      });
    }
  </script>
</body>
</html>
